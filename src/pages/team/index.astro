---
import Layout from '../../layouts/Page.astro';

// BASE gestisce correttamente /odyssey-theme/ su GitHub Pages
const BASE = import.meta.env.BASE_URL;

const members = [
  {
    name: 'Francesca M. Cassola',
    role: 'Principal Investigator / Behavioural Ecology',
    photo: `${BASE}assets/team/io1.jpg`,
    links: [
      { label: 'ORCID', href: 'https://orcid.org/0000-0002-0849-0070' },
      { label: 'LinkedIn', href: 'https://www.linkedin.com/in/francescamauracassola/' }
    ],
  },

  {
    name: 'Claudia A.F. Wascher',
    role: 'Project Supervisor / Behavioural Ecology and Animal Cognition',
    photo: `${BASE}assets/team/cla2.png`,
    links: [
      { label: 'ORCID', href: 'https://orcid.org/0000-0003-4360-363X' },
      { label: 'Website', href: 'https://claudiawascher.github.io/' }
    ],
  },

  {
    name: 'Sérgio E. Padilla-Paz',
    role: 'Project Collaborator / Behavioural Ecology and Wildlife Management',
    photo: `${BASE}assets/team/sergio1.jpg`,
    links: [
      { label: 'ResearchGate', href: 'https://www.researchgate.net/profile/Sergio-Padilla-10' }
    ],
  },

  {
    name: 'Mauricio González-Jáuregui',
    role: 'Project Collaborator / Behavioural Ecology and Wildlife Management',
    photo: `${BASE}assets/team/mau1.jpg`,
    links: [
      { label: 'ResearchGate', href: 'https://www.researchgate.net/profile/Mauricio-Gonzalez-Jauregui' }
    ],
  },

  {
    name: 'Anna Wilkinson',
    role: 'Project Collaborator / Behavioural Ecology and Animal Cognition',
    photo: `${BASE}assets/team/anna2.png`,
    links: [
      { label: 'ORCID', href: 'https://orcid.org/0000-0002-4500-0181' },
      { label: 'Website', href: 'https://staff.lincoln.ac.uk/awilkinson' }
    ],
  },

  {
    name: 'Marisol Buenfil-Rojas',
    role: 'Project Collaborator / Integrative Biotechnology',
    photo: `${BASE}assets/team/mari2.png`,
    links: [
      { label: 'ORCID', href: 'https://orcid.org/0000-0003-0999-7428' }
    ],
  },

  {
    name: 'Yann Henaut',
    role: 'Project Collaborator / Animal Behaviour and Ecology',
    photo: `${BASE}assets/team/yann.png`,
    links: [
      { label: 'ORCID', href: 'https://orcid.org/0000-0002-0849-0070' },
      { label: 'Website', href: 'https://www.ecosur.mx/academico/yhenaut' }
    ],
  },

  {
    name: 'Elisa De Bonis',
    role: 'Project Collaborator / Social Media and Communication',
    photo: `${BASE}assets/team/eli2.png`,
    links: [
      { label: 'LinkedIn', href: 'https://www.linkedin.com/in/elisa-de-bonis' }
    ],
  },
];
---

<Layout title="Team" description="EvOCRO research team">
  <section class="hero">
    <h1>Team</h1>
    <p>Researchers, collaborators and students collaborating on EvOCRO.</p>
  </section>

  <section class="grid-wrap">
    <ul class="grid">
      {members.map((m) => (
        <li class="card">
          <div class="thumb">
            {m.photo && <img src={m.photo} alt={m.name} loading="lazy" />}
          </div>
          <h3 class="name">{m.name}</h3>
          <p class="role">{m.role}</p>

          {m.links?.length > 0 && (
            <ul class="links">
              {m.links.map((l) => (
                <li><a href={l.href} rel="noopener" target="_blank">{l.label}</a></li>
              ))}
            </ul>
          )}
        </li>
      ))}
    </ul>
  </section>
</Layout>

<style>
  .hero {
    margin: var(--section-margin) auto;
    max-width: 56rem;
  }

  .grid-wrap {
    margin: var(--section-margin) auto;
  }

  .grid {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--theme-grid-gap);
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  @media (max-width: 1024px) {
    .grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 640px) {
    .grid {
      grid-template-columns: 1fr;
    }
  }

  .card {
    background: var(--theme-surface-1);
    border-radius: var(--theme-shape-radius);
    padding: 1rem;
    text-align: center;
  }

  .thumb {
  width: 100%;
  max-width: 280px;   /* puoi adattarlo */
  aspect-ratio: 1/1;
  overflow: hidden;
  border-radius: var(--theme-shape-radius);
  margin: 0 auto .75rem;   /* centra le foto nelle card */
}

 .thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;       /* riempie perfettamente */
  object-position: center; /* centra il volto */
  display: block;
}

  .name {
    margin: .25rem 0 0;
  }

  .role {
    margin: .25rem 0 .5rem;
    color: var(--theme-on-surface-2);
  }

  .links {
    display: flex;
    gap: .75rem;
    justify-content: center;
    list-style: none;
    padding: 0;
    margin: .5rem 0 0;
  }

  .links a {
    text-decoration: none;
  }
</style>
